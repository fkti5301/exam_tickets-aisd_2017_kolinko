# АВЛ-дерево: алгоритмы балансировки при вставке и удалении.

**АВЛ-дерево** — сбалансированное по высоте двоичное дерево поиска: для каждой его вершины высота её двух поддеревьев различается не более чем на 1.

# Балансировка

Относительно АВЛ-дерева балансировкой вершины называется операция, которая в случае разницы высот левого и правого поддеревьев = 2, изменяет связи предок-потомок в поддереве данной вершины так, что разница становится <= 1, иначе ничего не меняет. Указанный результат получается вращениями поддерева данной вершины.

Используются 4 типа вращений:
1. 
2. 
3. 
4. 
| тип | картинка | описание |
| --- | -------- | -------- |
| Малое левое вращение | ![gras](https://upload.wikimedia.org/wikipedia/ru/b/bc/AVL_LR.GIF) | Данное вращение используется тогда, когда высота b-поддерева — высота L = 2 и высота С <= высота R. |
| Большое левое вращение | ![gras](https://ru.wikipedia.org/wiki/%D0%A4%D0%B0%D0%B9%D0%BB:AVL_BR.GIF) | Данное вращение используется тогда, когда высота b-поддерева — высота L = 2 и высота c-поддерева > высота R. |
| Малое правое вращение | ![gras](https://ru.wikipedia.org/wiki/%D0%A4%D0%B0%D0%B9%D0%BB:AVL_LL.GIF) | Данное вращение используется тогда, когда высота b-поддерева — высота R = 2 и высота С <= высота L. |
| Большое правое вращение | ![gras](https://ru.wikipedia.org/wiki/%D0%A4%D0%B0%D0%B9%D0%BB:AVL_BL.GIF) | Данное вращение используется тогда, когда высота b-поддерева — высота R = 2 и высота c-поддерева > высота L. |

В каждом случае достаточно просто доказать то, что операция приводит к нужному результату и что полная высота уменьшается не более чем на 1 и не может увеличиться. Также можно заметить, что большое вращение это комбинация правого и левого малого вращения. Из-за условия балансированности высота дерева О(log(N)), где N- количество вершин, поэтому добавление элемента требует O(log(N)) операций.
