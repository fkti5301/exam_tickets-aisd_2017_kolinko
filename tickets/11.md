# АВЛ-дерево: алгоритмы балансировки при вставке и удалении.

**АВЛ-дерево** — сбалансированное по высоте двоичное дерево поиска: для каждой его вершины высота её двух поддеревьев различается не более чем на 1.

# Балансировка

Относительно АВЛ-дерева балансировкой вершины называется операция, которая в случае разницы высот левого и правого поддеревьев = 2, изменяет связи предок-потомок в поддереве данной вершины так, что разница становится <= 1, иначе ничего не меняет. Указанный результат получается вращениями поддерева данной вершины.

Используются 4 типа вращений:
1. Малое левое вращение
![gras](https://upload.wikimedia.org/wikipedia/ru/b/bc/AVL_LR.GIF)
Данное вращение используется тогда, когда высота b-поддерева — высота L = 2 и высота С <= высота R.
2. Большое левое вращение
![gras](https://upload.wikimedia.org/wikipedia/ru/1/16/AVL_BR.GIF)
Данное вращение используется тогда, когда высота b-поддерева — высота L = 2 и высота c-поддерева > высота R.
3. Малое правое вращение
![gras](https://upload.wikimedia.org/wikipedia/ru/e/e8/AVL_LL.GIF)
Данное вращение используется тогда, когда высота b-поддерева — высота R = 2 и высота С <= высота L.
4. Большое правое вращение
![gras](https://upload.wikimedia.org/wikipedia/ru/7/74/AVL_BL.GIF)
Данное вращение используется тогда, когда высота b-поддерева — высота R = 2 и высота c-поддерева > высота L.

В каждом случае достаточно просто доказать то, что операция приводит к нужному результату и что полная высота уменьшается не более чем на 1 и не может увеличиться. Также можно заметить, что большое вращение это комбинация правого и левого малого вращения. Из-за условия балансированности высота дерева О(log(N)), где N- количество вершин, поэтому добавление элемента требует O(log(N)) операций.
